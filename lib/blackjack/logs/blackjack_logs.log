[info] blackjack_server_22525@Developer : POST /register
[info] blackjack_server_22525@Developer : POST /register
[info] blackjack_server_22525@Developer : Sent 201 in 2499ms
[info] blackjack_server_22525@Developer : Sent 201 in 2544ms
[info] blackjack_server_22525@Developer : POST /login
[info] blackjack_server_22525@Developer : POST /login
[info] blackjack_server_22525@Developer : USER: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
[info] blackjack_server_22525@Developer : "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJibGFja2phY2siLCJleHAiOjE2NzU0MTA1MDIsImlhdCI6MTY3MjgxODUwMiwiaXNzIjoiYmxhY2tqYWNrIiwianRpIjoiYzM5MzFhNmEtMDkxMy00ZjU2LWJjNDQtMGUzMzkzNTk1YTM1IiwibmJmIjoxNjcyODE4NTAxLCJzdWIiOiIwOWEzYzIwZC0wOWU1LTQwZmQtOTg2NC02NGU1ZTE0ODRjYzAiLCJ0eXAiOiJhY2Nlc3MiLCJ1c2VyIjp7ImVtYWlsIjoidXNlcjFAZW1haWwuY29tIiwiaWQiOiIwOWEzYzIwZC0wOWU1LTQwZmQtOTg2NC02NGU1ZTE0ODRjYzAiLCJ1c2VybmFtZSI6InVzZXIxIn19.-02F-kmOocvOR114Q4tN7CAuiDmy8yp-ZFr8bSA86VRx3W0zLSnYzjYt3w6G_VEsW7MdQ1Gsthnh0y9BkT_mtg"
[info] blackjack_server_22525@Developer : Sent 200 in 1009ms
[info] blackjack_server_22525@Developer : Sent 200 in 1010ms
[info] blackjack_server_22525@Developer : POST /register
[info] blackjack_server_22525@Developer : POST /register
[info] blackjack_server_22525@Developer : Sent 201 in 487ms
[info] blackjack_server_22525@Developer : Sent 201 in 487ms
[info] blackjack_server_22525@Developer : POST /login
[info] blackjack_server_22525@Developer : POST /login
[info] blackjack_server_22525@Developer : USER: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}
[info] blackjack_server_22525@Developer : "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJibGFja2phY2siLCJleHAiOjE2NzU0MTA1NTksImlhdCI6MTY3MjgxODU1OSwiaXNzIjoiYmxhY2tqYWNrIiwianRpIjoiOWZjMWI5ODctZjZiNy00OWM0LTg1ZDEtMmYyZTNmOTA3ZjU0IiwibmJmIjoxNjcyODE4NTU4LCJzdWIiOiI4MDFlY2U4MC02MjZiLTRiNWYtYjZlNC0xZjI2ODMzZjcyYmUiLCJ0eXAiOiJhY2Nlc3MiLCJ1c2VyIjp7ImVtYWlsIjoidXNlcjJAZW1haWwuY29tIiwiaWQiOiI4MDFlY2U4MC02MjZiLTRiNWYtYjZlNC0xZjI2ODMzZjcyYmUiLCJ1c2VybmFtZSI6InVzZXIyIn19.2YTr8TsoN5wfLrtb7tEyGHF-lYnUFt_T0GOiUtrpYkdofba1RQcVCW_gNPCoMWiqKPV6QOCzwYGj3HX4g6KLHw"
[info] blackjack_server_22525@Developer : Sent 200 in 471ms
[info] blackjack_server_22525@Developer : Sent 200 in 472ms
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.570.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Message sent to: user2
[info] blackjack_server_22525@Developer : Message sent to: user2
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.583.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 1, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-04 07:55:07], updated_at: ~N[2023-01-04 07:55:07]}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.1275.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 1, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-04 07:55:07], updated_at: ~N[2023-01-04 07:55:07]}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.1452.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (RuntimeError) expected Ecto.Multi callback named `:get_current_user_conversation` to return either {:ok, value} or {:error, value}, got: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 1, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-04 07:55:07], updated_at: ~N[2023-01-04 07:55:07]}
    (ecto 3.9.2) lib/ecto/multi.ex:807: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:162: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (RuntimeError) expected Ecto.Multi callback named `:get_current_user_conversation` to return either {:ok, value} or {:error, value}, got: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 1, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-04 07:55:07], updated_at: ~N[2023-01-04 07:55:07]}
    (ecto 3.9.2) lib/ecto/multi.ex:807: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:162: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.1591.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 1, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-04 07:55:07], updated_at: ~N[2023-01-04 07:55:07]}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.1724.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.1850.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (Protocol.UndefinedError) protocol Enumerable not implemented for %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil} of type Blackjack.Communications.Conversations.Conversation (a struct). This protocol is implemented for the following type(s): DBConnection.PrepareStream, DBConnection.Stream, Date.Range, Ecto.Adapters.SQL.Stream, File.Stream, Function, GenEvent.Stream, HashDict, HashSet, IO.Stream, Jason.OrderedObject, List, Map, MapSet, MerkleMap, Postgrex.Stream, Range, Stream
    (elixir 1.14.2) lib/enum.ex:1: Enumerable.impl_for!/1
    (elixir 1.14.2) lib/enum.ex:166: Enumerable.reduce/3
    (elixir 1.14.2) lib/enum.ex:4307: Enum.reduce/3
    (ecto 3.9.2) lib/ecto/changeset.ex:410: Ecto.Changeset.change/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (Protocol.UndefinedError) protocol Enumerable not implemented for %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil} of type Blackjack.Communications.Conversations.Conversation (a struct). This protocol is implemented for the following type(s): DBConnection.PrepareStream, DBConnection.Stream, Date.Range, Ecto.Adapters.SQL.Stream, File.Stream, Function, GenEvent.Stream, HashDict, HashSet, IO.Stream, Jason.OrderedObject, List, Map, MapSet, MerkleMap, Postgrex.Stream, Range, Stream
    (elixir 1.14.2) lib/enum.ex:1: Enumerable.impl_for!/1
    (elixir 1.14.2) lib/enum.ex:166: Enumerable.reduce/3
    (elixir 1.14.2) lib/enum.ex:4307: Enum.reduce/3
    (ecto 3.9.2) lib/ecto/changeset.ex:410: Ecto.Changeset.change/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.1979.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 3, user_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:47:44], updated_at: ~N[2023-01-05 00:47:44]}, user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 2, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:47:44], updated_at: ~N[2023-01-05 00:47:44]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:8: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 5, user_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:52:58], updated_at: ~N[2023-01-05 00:52:58]}, user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 4, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:52:58], updated_at: ~N[2023-01-05 00:52:58]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:8: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 7, user_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}, user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 6, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:8: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 6, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 7, user_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 7, user_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}, user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 6, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:8: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 6, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 7, user_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 7, user_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}, user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 6, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:8: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.2127.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 6, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.2255.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 6, user_id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: "801ece80-626b-4b5f-b6e4-1f26833f72be", recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 00:54:26], updated_at: ~N[2023-01-05 00:54:26]}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.2403.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 9, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 01:52:20], updated_at: ~N[2023-01-05 01:52:20]}, user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 8, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 01:52:20], updated_at: ~N[2023-01-05 01:52:20]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:8: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.2528.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.2663.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.2790.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.2924.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 10, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 02:49:13], updated_at: ~N[2023-01-05 02:49:13]}, get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 11, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 02:49:13], updated_at: ~N[2023-01-05 02:49:13]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:8: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.3052.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.3186.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.3311.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(%{get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.3439.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (MatchError) no match of right hand side value: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}
    (blackjack 0.1.0) lib/blackjack/communications/conversations/conversations.ex:21: anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_22525@Developer : user1 is already started at #PID<0.3579.0>, shutting down previous instance.
[info] blackjack_server_22525@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_22525@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (MatchError) no match of right hand side value: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}
    (blackjack 0.1.0) lib/blackjack/communications/conversations/conversations.ex:20: anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.562.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS", title: "two way messaging"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.562.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_831237@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_831237@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_831237@Developer : Starting Accounts Supervisor.
[info] blackjack_server_831237@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_831237@Developer : Starting Core Supervisor.
[info] blackjack_server_831237@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_831237@Developer : Accounts Observer started.
[error] blackjack_server_831237@Developer : Task #PID<0.563.0> started from Blackjack.Supervisor terminating
** (DBConnection.ConnectionError) connection not available and request was dropped from queue after 2347ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:

  1. Ensuring your database is available and that you can connect to it
  2. Tracking down slow queries and making sure they are running fast enough
  3. Increasing the pool_size (although this increases resource consumption)
  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval

See DBConnection.start_link/2 for more information

    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:913: Ecto.Adapters.SQL.raise_sql_call_error/1
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:828: Ecto.Adapters.SQL.execute/6
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:229: Ecto.Repo.Queryable.execute/4
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:19: Ecto.Repo.Queryable.all/3
    (blackjack 0.1.0) lib/blackjack/application.ex:81: Blackjack.Application.start_all_servers/0
    (elixir 1.14.2) lib/task/supervised.ex:89: Task.Supervised.invoke_mfa/2
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Function: #Function<0.118088848/0 in Blackjack.Application.start_all_servers>
    Args: []
[info] blackjack_server_831237@Developer : user1 is already started at #PID<0.573.0>, shutting down previous instance.
[info] blackjack_server_831237@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_831237@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (MatchError) no match of right hand side value: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}
    (blackjack 0.1.0) lib/blackjack/communications/conversations/conversations.ex:20: anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.575.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS!", title: "New Message"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.575.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_831237@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_831237@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (MatchError) no match of right hand side value: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}
    (blackjack 0.1.0) lib/blackjack/communications/conversations/conversations.ex:31: anonymous fn/1 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:875: anonymous fn/5 in Ecto.Multi.operation_fun/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
Last message (from #PID<0.587.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS!", title: "New Message"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.587.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_831237@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_831237@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 13, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 06:40:00], updated_at: ~N[2023-01-05 06:40:00]}, get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 14, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 06:40:00], updated_at: ~N[2023-01-05 06:40:00]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:10: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.713.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS!", title: "New Message"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.713.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_831237@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_831237@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: %{current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 15, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 08:24:59], updated_at: ~N[2023-01-05 08:24:59]}, get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 16, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 08:24:59], updated_at: ~N[2023-01-05 08:24:59]}}
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:10: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.839.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS!", title: "New Message"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.839.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_831237@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_831237@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (KeyError) key :id not found in: {:ok, %{current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 17, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 08:27:42], updated_at: ~N[2023-01-05 08:27:42]}, get_current_user_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, get_recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:built, "conversations">, id: nil, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: nil, updated_at: nil}, recipient_conversation: %Blackjack.Communications.Conversations.Conversation{__meta__: #Ecto.Schema.Metadata<:loaded, "conversations">, id: 18, user_id: nil, user: #Ecto.Association.NotLoaded<association :user is not loaded>, recipient_id: nil, recipient: #Ecto.Association.NotLoaded<association :recipient is not loaded>, messages: #Ecto.Association.NotLoaded<association :messages is not loaded>, inserted_at: ~N[2023-01-05 08:27:42], updated_at: ~N[2023-01-05 08:27:42]}}}. If you are using the dot syntax, such as map.field, make sure the left-hand side of the dot is a map
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:10: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.1016.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS!", title: "New Message"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.1016.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_831237@Developer : Stopping user -> 09a3c20d-09e5-40fd-9864-64e5e1484cc0: user1
[error] blackjack_server_831237@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "09a3c20d-09e5-40fd-9864-64e5e1484cc0"} terminating
** (UndefinedFunctionError) function Ecto.Changeset.__schema__/2 is undefined or private
    (ecto 3.9.2) Ecto.Changeset.__schema__(:association, :conversation)
    (ecto 3.9.2) lib/ecto/association.ex:153: Ecto.Association.association_from_schema!/2
    (ecto 3.9.2) lib/ecto.ex:472: Ecto.build_assoc/3
    (blackjack 0.1.0) lib/blackjack/communications/messages/messages.ex:10: Blackjack.Communications.Messages.Messages.create_message/2
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:165: Blackjack.Accounts.UserManager.handle_call/3
    (stdlib 4.0.1) gen_server.erl:1146: :gen_server.try_handle_call/4
    (stdlib 4.0.1) gen_server.erl:1175: :gen_server.handle_msg/6
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message (from #PID<0.1148.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "801ece80-626b-4b5f-b6e4-1f26833f72be", email: "user2@email.com", username: "user2", password_hash: "$2b$12$2rbhdMS3JcBRiB1dNRwL0ubK4ZR4Ktct0jHQNHwCMvu0W3ULBAROm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:49:18], updated_at: ~N[2023-01-04 07:49:18]}, %{body: "HOPE THIS WORKS!", title: "New Message"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "09a3c20d-09e5-40fd-9864-64e5e1484cc0", email: "user1@email.com", username: "user1", password_hash: "$2b$12$39d9O7sgrdKimhsORJfSNOPG9ofnu93BSc5LEGrktBsjFPRVCssyG", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, conversations: #Ecto.Association.NotLoaded<association :conversations is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-04 07:48:20], updated_at: ~N[2023-01-04 07:48:20]}
Client #PID<0.1148.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_831237@Developer : Message sent to: user2
[info] blackjack_server_831237@Developer : Message sent to: user2
[info] blackjack_server_319779@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_319779@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_319779@Developer : Starting Accounts Supervisor.
[info] blackjack_server_319779@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_319779@Developer : Starting Core Supervisor.
[info] blackjack_server_319779@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_319779@Developer : Accounts Observer started.
[info] blackjack_server_600689@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_600689@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_600689@Developer : Starting Accounts Supervisor.
[info] blackjack_server_600689@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_600689@Developer : Starting Core Supervisor.
[info] blackjack_server_600689@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_600689@Developer : Accounts Observer started.
[info] blackjack_server_600689@Developer : POST /register
[info] blackjack_server_600689@Developer : POST /register
[info] blackjack_server_600689@Developer : Sent 201 in 970ms
[info] blackjack_server_600689@Developer : Sent 201 in 974ms
[info] blackjack_server_600689@Developer : POST /login
[info] blackjack_server_600689@Developer : POST /login
[info] blackjack_server_600689@Developer : USER: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "00e8134c-54d1-4ac7-94de-81b94f02b5ff", email: "user1@email.com", username: "user1", password_hash: "$2b$12$AnKNxA5vQeVgem.le//k2uvitifoJRuC/vt1GJJLyxrDQLre1aj/i", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-05 23:47:15], updated_at: ~N[2023-01-05 23:47:15]}
[info] blackjack_server_600689@Developer : "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJibGFja2phY2siLCJleHAiOjE2NzU1NTQ0MzcsImlhdCI6MTY3Mjk2MjQzNywiaXNzIjoiYmxhY2tqYWNrIiwianRpIjoiOTdlZTBhMjctMWM4ZS00YTUyLWFhZmEtNmJmMWE2NDNiNjA4IiwibmJmIjoxNjcyOTYyNDM2LCJzdWIiOiIwMGU4MTM0Yy01NGQxLTRhYzctOTRkZS04MWI5NGYwMmI1ZmYiLCJ0eXAiOiJhY2Nlc3MiLCJ1c2VyIjp7ImVtYWlsIjoidXNlcjFAZW1haWwuY29tIiwiaWQiOiIwMGU4MTM0Yy01NGQxLTRhYzctOTRkZS04MWI5NGYwMmI1ZmYiLCJ1c2VybmFtZSI6InVzZXIxIn19.h5kV2jjfn6tm1Gs3KQPa899a2gS2DzhH5ReTyVVwXZRf_2Pr8COJeftPewg7C-WrjJZ1xsZt0iMeqGY-yp04Fw"
[info] blackjack_server_600689@Developer : Sent 200 in 914ms
[info] blackjack_server_600689@Developer : Sent 200 in 915ms
[info] blackjack_server_600689@Developer : POST /register
[info] blackjack_server_600689@Developer : POST /register
[info] blackjack_server_600689@Developer : Sent 201 in 657ms
[info] blackjack_server_600689@Developer : Sent 201 in 657ms
[info] blackjack_server_600689@Developer : POST /login
[info] blackjack_server_600689@Developer : POST /login
[info] blackjack_server_600689@Developer : USER: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "a3e0cf70-e099-45e6-af9b-fbb300a3e060", email: "user2@email.com", username: "user2", password_hash: "$2b$12$7nzXXq73iOcFtpcyHK6hsuMTSX7XcnkqmCer.GIW7PkOo0Qyn4Eya", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-05 23:47:42], updated_at: ~N[2023-01-05 23:47:42]}
[info] blackjack_server_600689@Developer : "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJibGFja2phY2siLCJleHAiOjE2NzU1NTQ0NjMsImlhdCI6MTY3Mjk2MjQ2MywiaXNzIjoiYmxhY2tqYWNrIiwianRpIjoiZGMxZmUwNWYtYzg2YS00YjU4LWIxYmUtYWJiZjIyNDdjNzI0IiwibmJmIjoxNjcyOTYyNDYyLCJzdWIiOiJhM2UwY2Y3MC1lMDk5LTQ1ZTYtYWY5Yi1mYmIzMDBhM2UwNjAiLCJ0eXAiOiJhY2Nlc3MiLCJ1c2VyIjp7ImVtYWlsIjoidXNlcjJAZW1haWwuY29tIiwiaWQiOiJhM2UwY2Y3MC1lMDk5LTQ1ZTYtYWY5Yi1mYmIzMDBhM2UwNjAiLCJ1c2VybmFtZSI6InVzZXIyIn19.tyitDyaIFpDzhIOLb83PnChZvbophg6wSmFXldKBxGmCH42TcAVHKK73uzKZ2vz0ASGVDkTXOUanD-z7FlyvSQ"
[info] blackjack_server_600689@Developer : Sent 200 in 717ms
[info] blackjack_server_600689@Developer : Sent 200 in 717ms
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.652.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.664.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.804.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.928.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.1054.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.1220.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.1379.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.1506.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_600689@Developer : user1 is already started at #PID<0.1747.0>, shutting down previous instance.
[info] blackjack_server_600689@Developer : Message sent to: user2
[info] blackjack_server_761494@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_761494@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_761494@Developer : Starting Accounts Supervisor.
[info] blackjack_server_761494@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_761494@Developer : Starting Core Supervisor.
[info] blackjack_server_761494@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_761494@Developer : Accounts Observer started.
[info] blackjack_server_761494@Developer : POST /register
[info] blackjack_server_761494@Developer : POST /register
[info] blackjack_server_761494@Developer : Sent 201 in 2192ms
[info] blackjack_server_761494@Developer : Sent 201 in 2196ms
[info] blackjack_server_761494@Developer : POST /login
[info] blackjack_server_761494@Developer : POST /login
[info] blackjack_server_761494@Developer : USER: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "5e84ebc4-4a42-4297-a4a7-760b418412fa", email: "user1@email.com", username: "user1", password_hash: "$2b$12$LRe0kFhbtyD5eE/FxeLZyeXJuKIndFJtOEf/uLC5wbhSwrNXbHSxm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-06 04:38:03], updated_at: ~N[2023-01-06 04:38:03]}
[info] blackjack_server_761494@Developer : "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJibGFja2phY2siLCJleHAiOjE2NzU1NzE4ODcsImlhdCI6MTY3Mjk3OTg4NywiaXNzIjoiYmxhY2tqYWNrIiwianRpIjoiMjAyZTc2YzYtNDA2My00MTI2LTliMzEtMTEyZGNhYWU4ZWQ5IiwibmJmIjoxNjcyOTc5ODg2LCJzdWIiOiI1ZTg0ZWJjNC00YTQyLTQyOTctYTRhNy03NjBiNDE4NDEyZmEiLCJ0eXAiOiJhY2Nlc3MiLCJ1c2VyIjp7ImVtYWlsIjoidXNlcjFAZW1haWwuY29tIiwiaWQiOiI1ZTg0ZWJjNC00YTQyLTQyOTctYTRhNy03NjBiNDE4NDEyZmEiLCJ1c2VybmFtZSI6InVzZXIxIn19.G_x36CEdS5mJgPxKGb6X212UXnzHwpMKPHM46NHGSbnH5ZizpuuFrKJe35JjrckmcTwVYhpkRFKPvaUWyq-_zQ"
[info] blackjack_server_761494@Developer : Sent 200 in 1750ms
[info] blackjack_server_761494@Developer : Sent 200 in 1750ms
[info] blackjack_server_761494@Developer : POST /register
[info] blackjack_server_761494@Developer : POST /register
[info] blackjack_server_761494@Developer : Sent 201 in 700ms
[info] blackjack_server_761494@Developer : Sent 201 in 700ms
[info] blackjack_server_761494@Developer : POST /login
[info] blackjack_server_761494@Developer : POST /login
[info] blackjack_server_761494@Developer : USER: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "abae3c42-8bb6-4c72-b9e2-fabbce95e47c", email: "user2@email.com", username: "user2", password_hash: "$2b$12$hEdYOVsC7ujO6TgTleB77uS9HQKCv11/n478CI7dR2w8.oE5CkIim", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-06 04:38:39], updated_at: ~N[2023-01-06 04:38:39]}
[info] blackjack_server_761494@Developer : "eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJibGFja2phY2siLCJleHAiOjE2NzU1NzE5MjAsImlhdCI6MTY3Mjk3OTkyMCwiaXNzIjoiYmxhY2tqYWNrIiwianRpIjoiZTY3ODQwMjAtZmZiMC00MjQwLThjYTEtMTgxZWNmMTk2ZTIxIiwibmJmIjoxNjcyOTc5OTE5LCJzdWIiOiJhYmFlM2M0Mi04YmI2LTRjNzItYjllMi1mYWJiY2U5NWU0N2MiLCJ0eXAiOiJhY2Nlc3MiLCJ1c2VyIjp7ImVtYWlsIjoidXNlcjJAZW1haWwuY29tIiwiaWQiOiJhYmFlM2M0Mi04YmI2LTRjNzItYjllMi1mYWJiY2U5NWU0N2MiLCJ1c2VybmFtZSI6InVzZXIyIn19.zFbQdi56IkX95fAA2MHhvgO84Lsw_PYOlnIrcGPTfypg882muIH6Ia-LbzlHTW-3n8S84nCz-ZWrVZ3f0JNnfw"
[info] blackjack_server_761494@Developer : Sent 200 in 579ms
[info] blackjack_server_761494@Developer : Sent 200 in 579ms
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.649.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : Message sent to: user2
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.661.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : Message sent to: user2
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.794.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : Stopping user -> 5e84ebc4-4a42-4297-a4a7-760b418412fa: user1
[error] blackjack_server_761494@Developer : GenServer {Blackjack.Accounts.AccountsRegistry, "5e84ebc4-4a42-4297-a4a7-760b418412fa"} terminating
** (FunctionClauseError) no function clause matching in anonymous fn/2 in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (blackjack 0.1.0) anonymous fn(Blackjack.Repo, %{}) in Blackjack.Communications.Conversations.Conversations.create_or_continue_conversation/2
    (ecto 3.9.2) lib/ecto/multi.ex:801: Ecto.Multi.apply_operation/5
    (elixir 1.14.2) lib/enum.ex:2468: Enum."-reduce/3-lists^foldl/2-0-"/3
    (ecto 3.9.2) lib/ecto/multi.ex:775: anonymous fn/5 in Ecto.Multi.apply_operations/5
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:1202: anonymous fn/3 in Ecto.Adapters.SQL.checkout_or_transaction/4
    (db_connection 2.4.3) lib/db_connection.ex:1611: DBConnection.run_transaction/4
    (ecto 3.9.2) lib/ecto/repo/transaction.ex:18: Ecto.Repo.Transaction.transaction/4
    (blackjack 0.1.0) lib/blackjack/accounts/user/user_manager.ex:164: Blackjack.Accounts.UserManager.handle_call/3
Last message (from #PID<0.642.0>): {:create_message, %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "abae3c42-8bb6-4c72-b9e2-fabbce95e47c", email: "user2@email.com", username: "user2", password_hash: "$2b$12$hEdYOVsC7ujO6TgTleB77uS9HQKCv11/n478CI7dR2w8.oE5CkIim", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-06 04:38:39], updated_at: ~N[2023-01-06 04:38:39]}, %{body: "HOPE THIS WORKS! 2", title: "New Message"}}
State: %Blackjack.Accounts.User{__meta__: #Ecto.Schema.Metadata<:loaded, "users">, id: "5e84ebc4-4a42-4297-a4a7-760b418412fa", email: "user1@email.com", username: "user1", password_hash: "$2b$12$LRe0kFhbtyD5eE/FxeLZyeXJuKIndFJtOEf/uLC5wbhSwrNXbHSxm", error: nil, server: #Ecto.Association.NotLoaded<association :server is not loaded>, inbox: #Ecto.Association.NotLoaded<association :inbox is not loaded>, friends: #Ecto.Association.NotLoaded<association :friends is not loaded>, received_friends: #Ecto.Association.NotLoaded<association :received_friends is not loaded>, inserted_at: ~N[2023-01-06 04:38:03], updated_at: ~N[2023-01-06 04:38:03]}
Client #PID<0.642.0> is alive

    (stdlib 4.0.1) gen.erl:256: :gen.do_call/4
    (elixir 1.14.2) lib/gen_server.ex:1035: GenServer.call/3
    (elixir 1.14.2) src/elixir.erl:309: anonymous fn/4 in :elixir.eval_external_handler/1
    (stdlib 4.0.1) erl_eval.erl:748: :erl_eval.do_apply/7
    (elixir 1.14.2) src/elixir.erl:294: :elixir.eval_forms/4
    (elixir 1.14.2) lib/module/parallel_checker.ex:107: Module.ParallelChecker.verify/1
    (iex 1.14.2) lib/iex/evaluator.ex:329: IEx.Evaluator.eval_and_inspect/3
    (iex 1.14.2) lib/iex/evaluator.ex:303: IEx.Evaluator.eval_and_inspect_parsed/3
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.920.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : Message sent to: user2
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.1045.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : Message sent to: user2
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.1176.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.1333.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : user1 is already started at #PID<0.1473.0>, shutting down previous instance.
[info] blackjack_server_761494@Developer : Message sent to: user2
[info] blackjack_server_165401@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_165401@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_165401@Developer : Starting Accounts Supervisor.
[info] blackjack_server_165401@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_165401@Developer : Starting Core Supervisor.
[info] blackjack_server_165401@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_165401@Developer : Accounts Observer started.
[info] blackjack_server_165401@Developer : Message sent to: user2
[info] blackjack_server_165401@Developer : Stopping user -> 5e84ebc4-4a42-4297-a4a7-760b418412fa: user1
[info] blackjack_server_165401@Developer : Friendship created between 5e84ebc4-4a42-4297-a4a7-760b418412fa: user1 and abae3c42-8bb6-4c72-b9e2-fabbce95e47c: user2
[info] blackjack_server_165401@Developer : Friend request sent to: user2
[info] blackjack_server_165401@Developer : Stopping user -> 5e84ebc4-4a42-4297-a4a7-760b418412fa: user1
[info] blackjack_server_165401@Developer : Stopping user -> 5e84ebc4-4a42-4297-a4a7-760b418412fa: user1
[error] blackjack_server_144242@Developer : Failed to start Ranch listener BlackjackWeb.Router.HTTP in :ranch_tcp:listen([cacerts: :..., key: :..., cert: :..., port: 4000]) for reason :eaddrinuse (address already in use)

[info] blackjack_server_144242@Developer : Application blackjack exited: Blackjack.Application.start(:normal, []) returned an error: shutdown: failed to start child: {:ranch_listener_sup, BlackjackWeb.Router.HTTP}
    ** (EXIT) shutdown: failed to start child: :ranch_acceptors_sup
        ** (EXIT) {:listen_error, BlackjackWeb.Router.HTTP, :eaddrinuse}
[info] blackjack_server_144242@Developer : Application horde exited: :stopped
[info] blackjack_server_144242@Developer : Application telemetry_poller exited: :stopped
[info] blackjack_server_144242@Developer : Application libring exited: :stopped
[info] blackjack_server_144242@Developer : Application delta_crdt exited: :stopped
[info] blackjack_server_144242@Developer : Application merkle_map exited: :stopped
[info] blackjack_server_144242@Developer : Application libcluster exited: :stopped
[info] blackjack_server_144242@Developer : Application poolboy exited: :stopped
[info] blackjack_server_144242@Developer : Application dotenvy exited: :stopped
[info] blackjack_server_144242@Developer : Application logger_file_backend exited: :stopped
[info] blackjack_server_144242@Developer : Application distillery exited: :stopped
[info] blackjack_server_144242@Developer : Application artificery exited: :stopped
[info] blackjack_server_144242@Developer : Application runtime_tools exited: :stopped
[info] blackjack_server_144242@Developer : Application cachex exited: :stopped
[info] blackjack_server_144242@Developer : Application sleeplocks exited: :stopped
[info] blackjack_server_144242@Developer : Application jumper exited: :stopped
[info] blackjack_server_144242@Developer : Application eternal exited: :stopped
[info] blackjack_server_144242@Developer : Application unsafe exited: :stopped
[info] blackjack_server_144242@Developer : Application oban exited: :stopped
[info] blackjack_server_144242@Developer : Application bcrypt_elixir exited: :stopped
[info] blackjack_server_144242@Developer : Application comeonin exited: :stopped
[info] blackjack_server_144242@Developer : Application jason exited: :stopped
[info] blackjack_server_144242@Developer : Application bodyguard exited: :stopped
[info] blackjack_server_144242@Developer : Application guardian exited: :stopped
[info] blackjack_server_144242@Developer : Application jose exited: :stopped
[info] blackjack_server_144242@Developer : Application httpoison exited: :stopped
[info] blackjack_server_144242@Developer : Application hackney exited: :stopped
[info] blackjack_server_144242@Developer : Application metrics exited: :stopped
[info] blackjack_server_144242@Developer : Application ssl_verify_fun exited: :stopped
[info] blackjack_server_144242@Developer : Application parse_trans exited: :stopped
[info] blackjack_server_144242@Developer : Application syntax_tools exited: :stopped
[info] blackjack_server_144242@Developer : Application certifi exited: :stopped
[info] blackjack_server_144242@Developer : Application mimerl exited: :stopped
[info] blackjack_server_144242@Developer : Application idna exited: :stopped
[info] blackjack_server_144242@Developer : Application unicode_util_compat exited: :stopped
[info] blackjack_server_144242@Developer : Application plug_cowboy exited: :stopped
[info] blackjack_server_144242@Developer : Application cowboy_telemetry exited: :stopped
[info] blackjack_server_144242@Developer : Application cowboy exited: :stopped
[info] blackjack_server_144242@Developer : Application ranch exited: :stopped
[info] blackjack_server_144242@Developer : Application cowlib exited: :stopped
[info] blackjack_server_144242@Developer : Application plug exited: :stopped
[info] blackjack_server_144242@Developer : Application plug_crypto exited: :stopped
[info] blackjack_server_144242@Developer : Application mime exited: :stopped
[info] blackjack_server_144242@Developer : Application postgrex exited: :stopped
[info] blackjack_server_144242@Developer : Application ecto_sql exited: :stopped
[info] blackjack_server_144242@Developer : Application db_connection exited: :stopped
[info] blackjack_server_144242@Developer : Application connection exited: :stopped
[info] blackjack_server_144242@Developer : Application ecto exited: :stopped
[info] blackjack_server_144242@Developer : Application decimal exited: :stopped
[info] blackjack_server_144242@Developer : Application telemetry exited: :stopped
[info] blackjack_server_144242@Developer : Application eex exited: :stopped
[error] blackjack_server_885032@Developer : Failed to start Ranch listener BlackjackWeb.Router.HTTP in :ranch_tcp:listen([cacerts: :..., key: :..., cert: :..., port: 4000]) for reason :eaddrinuse (address already in use)

[info] blackjack_server_885032@Developer : Application blackjack exited: Blackjack.Application.start(:normal, []) returned an error: shutdown: failed to start child: {:ranch_listener_sup, BlackjackWeb.Router.HTTP}
    ** (EXIT) shutdown: failed to start child: :ranch_acceptors_sup
        ** (EXIT) {:listen_error, BlackjackWeb.Router.HTTP, :eaddrinuse}
[info] blackjack_server_885032@Developer : Application horde exited: :stopped
[info] blackjack_server_885032@Developer : Application telemetry_poller exited: :stopped
[info] blackjack_server_885032@Developer : Application libring exited: :stopped
[info] blackjack_server_885032@Developer : Application delta_crdt exited: :stopped
[info] blackjack_server_885032@Developer : Application merkle_map exited: :stopped
[info] blackjack_server_885032@Developer : Application libcluster exited: :stopped
[info] blackjack_server_885032@Developer : Application poolboy exited: :stopped
[info] blackjack_server_885032@Developer : Application dotenvy exited: :stopped
[info] blackjack_server_885032@Developer : Application logger_file_backend exited: :stopped
[info] blackjack_server_885032@Developer : Application distillery exited: :stopped
[info] blackjack_server_885032@Developer : Application artificery exited: :stopped
[info] blackjack_server_885032@Developer : Application runtime_tools exited: :stopped
[info] blackjack_server_885032@Developer : Application cachex exited: :stopped
[info] blackjack_server_885032@Developer : Application sleeplocks exited: :stopped
[info] blackjack_server_885032@Developer : Application jumper exited: :stopped
[info] blackjack_server_885032@Developer : Application eternal exited: :stopped
[info] blackjack_server_885032@Developer : Application unsafe exited: :stopped
[info] blackjack_server_885032@Developer : Application oban exited: :stopped
[info] blackjack_server_885032@Developer : Application bcrypt_elixir exited: :stopped
[info] blackjack_server_885032@Developer : Application comeonin exited: :stopped
[info] blackjack_server_885032@Developer : Application jason exited: :stopped
[info] blackjack_server_885032@Developer : Application bodyguard exited: :stopped
[info] blackjack_server_885032@Developer : Application guardian exited: :stopped
[info] blackjack_server_885032@Developer : Application jose exited: :stopped
[info] blackjack_server_885032@Developer : Application httpoison exited: :stopped
[info] blackjack_server_885032@Developer : Application hackney exited: :stopped
[info] blackjack_server_885032@Developer : Application metrics exited: :stopped
[info] blackjack_server_885032@Developer : Application ssl_verify_fun exited: :stopped
[info] blackjack_server_885032@Developer : Application parse_trans exited: :stopped
[info] blackjack_server_885032@Developer : Application syntax_tools exited: :stopped
[info] blackjack_server_885032@Developer : Application certifi exited: :stopped
[info] blackjack_server_885032@Developer : Application mimerl exited: :stopped
[info] blackjack_server_885032@Developer : Application idna exited: :stopped
[info] blackjack_server_885032@Developer : Application unicode_util_compat exited: :stopped
[info] blackjack_server_885032@Developer : Application plug_cowboy exited: :stopped
[info] blackjack_server_885032@Developer : Application cowboy_telemetry exited: :stopped
[info] blackjack_server_885032@Developer : Application cowboy exited: :stopped
[info] blackjack_server_885032@Developer : Application ranch exited: :stopped
[info] blackjack_server_885032@Developer : Application cowlib exited: :stopped
[info] blackjack_server_885032@Developer : Application plug exited: :stopped
[info] blackjack_server_885032@Developer : Application plug_crypto exited: :stopped
[info] blackjack_server_885032@Developer : Application mime exited: :stopped
[info] blackjack_server_885032@Developer : Application postgrex exited: :stopped
[info] blackjack_server_885032@Developer : Application ecto_sql exited: :stopped
[info] blackjack_server_885032@Developer : Application db_connection exited: :stopped
[info] blackjack_server_885032@Developer : Application connection exited: :stopped
[info] blackjack_server_885032@Developer : Application ecto exited: :stopped
[info] blackjack_server_885032@Developer : Application decimal exited: :stopped
[info] blackjack_server_885032@Developer : Application telemetry exited: :stopped
[info] blackjack_server_885032@Developer : Application eex exited: :stopped
[error] blackjack_server_933987@Developer : Failed to start Ranch listener BlackjackWeb.Router.HTTP in :ranch_tcp:listen([cacerts: :..., key: :..., cert: :..., port: 4000]) for reason :eaddrinuse (address already in use)

[info] blackjack_server_933987@Developer : Application blackjack exited: Blackjack.Application.start(:normal, []) returned an error: shutdown: failed to start child: {:ranch_listener_sup, BlackjackWeb.Router.HTTP}
    ** (EXIT) shutdown: failed to start child: :ranch_acceptors_sup
        ** (EXIT) {:listen_error, BlackjackWeb.Router.HTTP, :eaddrinuse}
[info] blackjack_server_933987@Developer : Application horde exited: :stopped
[info] blackjack_server_933987@Developer : Application telemetry_poller exited: :stopped
[info] blackjack_server_933987@Developer : Application libring exited: :stopped
[info] blackjack_server_933987@Developer : Application delta_crdt exited: :stopped
[info] blackjack_server_933987@Developer : Application merkle_map exited: :stopped
[info] blackjack_server_933987@Developer : Application libcluster exited: :stopped
[info] blackjack_server_933987@Developer : Application poolboy exited: :stopped
[info] blackjack_server_933987@Developer : Application dotenvy exited: :stopped
[info] blackjack_server_933987@Developer : Application logger_file_backend exited: :stopped
[info] blackjack_server_933987@Developer : Application distillery exited: :stopped
[info] blackjack_server_933987@Developer : Application artificery exited: :stopped
[info] blackjack_server_933987@Developer : Application runtime_tools exited: :stopped
[info] blackjack_server_933987@Developer : Application cachex exited: :stopped
[info] blackjack_server_933987@Developer : Application sleeplocks exited: :stopped
[info] blackjack_server_933987@Developer : Application jumper exited: :stopped
[info] blackjack_server_933987@Developer : Application eternal exited: :stopped
[info] blackjack_server_933987@Developer : Application unsafe exited: :stopped
[info] blackjack_server_933987@Developer : Application oban exited: :stopped
[info] blackjack_server_933987@Developer : Application bcrypt_elixir exited: :stopped
[info] blackjack_server_933987@Developer : Application comeonin exited: :stopped
[info] blackjack_server_933987@Developer : Application jason exited: :stopped
[info] blackjack_server_933987@Developer : Application bodyguard exited: :stopped
[info] blackjack_server_933987@Developer : Application guardian exited: :stopped
[info] blackjack_server_933987@Developer : Application jose exited: :stopped
[info] blackjack_server_933987@Developer : Application httpoison exited: :stopped
[info] blackjack_server_933987@Developer : Application hackney exited: :stopped
[info] blackjack_server_933987@Developer : Application metrics exited: :stopped
[info] blackjack_server_933987@Developer : Application ssl_verify_fun exited: :stopped
[info] blackjack_server_933987@Developer : Application parse_trans exited: :stopped
[info] blackjack_server_933987@Developer : Application syntax_tools exited: :stopped
[info] blackjack_server_933987@Developer : Application certifi exited: :stopped
[info] blackjack_server_933987@Developer : Application mimerl exited: :stopped
[info] blackjack_server_933987@Developer : Application idna exited: :stopped
[info] blackjack_server_933987@Developer : Application unicode_util_compat exited: :stopped
[info] blackjack_server_933987@Developer : Application plug_cowboy exited: :stopped
[info] blackjack_server_933987@Developer : Application cowboy_telemetry exited: :stopped
[info] blackjack_server_933987@Developer : Application cowboy exited: :stopped
[info] blackjack_server_933987@Developer : Application ranch exited: :stopped
[info] blackjack_server_933987@Developer : Application cowlib exited: :stopped
[info] blackjack_server_933987@Developer : Application plug exited: :stopped
[info] blackjack_server_933987@Developer : Application plug_crypto exited: :stopped
[info] blackjack_server_933987@Developer : Application mime exited: :stopped
[info] blackjack_server_933987@Developer : Application postgrex exited: :stopped
[info] blackjack_server_933987@Developer : Application ecto_sql exited: :stopped
[info] blackjack_server_933987@Developer : Application db_connection exited: :stopped
[info] blackjack_server_933987@Developer : Application connection exited: :stopped
[info] blackjack_server_933987@Developer : Application ecto exited: :stopped
[info] blackjack_server_933987@Developer : Application decimal exited: :stopped
[info] blackjack_server_933987@Developer : Application telemetry exited: :stopped
[info] blackjack_server_933987@Developer : Application eex exited: :stopped
[error] blackjack_server_231678@Developer : Failed to start Ranch listener BlackjackWeb.Router.HTTP in :ranch_tcp:listen([cacerts: :..., key: :..., cert: :..., port: 4000]) for reason :eaddrinuse (address already in use)

[info] blackjack_server_231678@Developer : Application blackjack exited: Blackjack.Application.start(:normal, []) returned an error: shutdown: failed to start child: {:ranch_listener_sup, BlackjackWeb.Router.HTTP}
    ** (EXIT) shutdown: failed to start child: :ranch_acceptors_sup
        ** (EXIT) {:listen_error, BlackjackWeb.Router.HTTP, :eaddrinuse}
[info] blackjack_server_231678@Developer : Application horde exited: :stopped
[info] blackjack_server_231678@Developer : Application telemetry_poller exited: :stopped
[info] blackjack_server_231678@Developer : Application libring exited: :stopped
[info] blackjack_server_231678@Developer : Application delta_crdt exited: :stopped
[info] blackjack_server_231678@Developer : Application merkle_map exited: :stopped
[info] blackjack_server_231678@Developer : Application libcluster exited: :stopped
[info] blackjack_server_231678@Developer : Application poolboy exited: :stopped
[info] blackjack_server_231678@Developer : Application dotenvy exited: :stopped
[info] blackjack_server_231678@Developer : Application logger_file_backend exited: :stopped
[info] blackjack_server_231678@Developer : Application distillery exited: :stopped
[info] blackjack_server_231678@Developer : Application artificery exited: :stopped
[info] blackjack_server_231678@Developer : Application runtime_tools exited: :stopped
[info] blackjack_server_231678@Developer : Application cachex exited: :stopped
[info] blackjack_server_231678@Developer : Application sleeplocks exited: :stopped
[info] blackjack_server_231678@Developer : Application jumper exited: :stopped
[info] blackjack_server_231678@Developer : Application eternal exited: :stopped
[info] blackjack_server_231678@Developer : Application unsafe exited: :stopped
[info] blackjack_server_231678@Developer : Application oban exited: :stopped
[info] blackjack_server_231678@Developer : Application bcrypt_elixir exited: :stopped
[info] blackjack_server_231678@Developer : Application comeonin exited: :stopped
[info] blackjack_server_231678@Developer : Application jason exited: :stopped
[info] blackjack_server_231678@Developer : Application bodyguard exited: :stopped
[info] blackjack_server_231678@Developer : Application guardian exited: :stopped
[info] blackjack_server_231678@Developer : Application jose exited: :stopped
[info] blackjack_server_231678@Developer : Application httpoison exited: :stopped
[info] blackjack_server_231678@Developer : Application hackney exited: :stopped
[info] blackjack_server_231678@Developer : Application metrics exited: :stopped
[info] blackjack_server_231678@Developer : Application ssl_verify_fun exited: :stopped
[info] blackjack_server_231678@Developer : Application parse_trans exited: :stopped
[info] blackjack_server_231678@Developer : Application syntax_tools exited: :stopped
[info] blackjack_server_231678@Developer : Application certifi exited: :stopped
[info] blackjack_server_231678@Developer : Application mimerl exited: :stopped
[info] blackjack_server_231678@Developer : Application idna exited: :stopped
[info] blackjack_server_231678@Developer : Application unicode_util_compat exited: :stopped
[info] blackjack_server_231678@Developer : Application plug_cowboy exited: :stopped
[info] blackjack_server_231678@Developer : Application cowboy_telemetry exited: :stopped
[info] blackjack_server_231678@Developer : Application cowboy exited: :stopped
[info] blackjack_server_231678@Developer : Application ranch exited: :stopped
[info] blackjack_server_231678@Developer : Application cowlib exited: :stopped
[info] blackjack_server_231678@Developer : Application plug exited: :stopped
[info] blackjack_server_231678@Developer : Application plug_crypto exited: :stopped
[info] blackjack_server_231678@Developer : Application mime exited: :stopped
[info] blackjack_server_231678@Developer : Application postgrex exited: :stopped
[info] blackjack_server_231678@Developer : Application ecto_sql exited: :stopped
[info] blackjack_server_231678@Developer : Application db_connection exited: :stopped
[info] blackjack_server_231678@Developer : Application connection exited: :stopped
[info] blackjack_server_231678@Developer : Application ecto exited: :stopped
[info] blackjack_server_231678@Developer : Application decimal exited: :stopped
[info] blackjack_server_231678@Developer : Application telemetry exited: :stopped
[info] blackjack_server_231678@Developer : Application eex exited: :stopped
[info] blackjack_server_165401@Developer : SIGTERM received - shutting down

[info] blackjack_server_419678@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_419678@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_419678@Developer : Starting Accounts Supervisor.
[info] blackjack_server_419678@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_419678@Developer : Starting Core Supervisor.
[info] blackjack_server_419678@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_419678@Developer : Accounts Observer started.
[info] blackjack_server_419678@Developer : Message sent to: user3
[info] blackjack_server_419678@Developer : Message sent to: user3
[info] blackjack_server_695774@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_695774@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_695774@Developer : Starting Accounts Supervisor.
[info] blackjack_server_695774@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_695774@Developer : Starting Core Supervisor.
[info] blackjack_server_695774@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_695774@Developer : Accounts Observer started.
[error] blackjack_server_695774@Developer : Task #PID<0.564.0> started from Blackjack.Supervisor terminating
** (DBConnection.ConnectionError) connection not available and request was dropped from queue after 2137ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:

  1. Ensuring your database is available and that you can connect to it
  2. Tracking down slow queries and making sure they are running fast enough
  3. Increasing the pool_size (although this increases resource consumption)
  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval

See DBConnection.start_link/2 for more information

    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:913: Ecto.Adapters.SQL.raise_sql_call_error/1
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:828: Ecto.Adapters.SQL.execute/6
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:229: Ecto.Repo.Queryable.execute/4
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:19: Ecto.Repo.Queryable.all/3
    (blackjack 0.1.0) lib/blackjack/application.ex:81: Blackjack.Application.start_all_servers/0
    (elixir 1.14.2) lib/task/supervised.ex:89: Task.Supervised.invoke_mfa/2
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Function: #Function<0.118088848/0 in Blackjack.Application.start_all_servers>
    Args: []
[error] blackjack_server_695774@Developer : Process #PID<0.1174.0> on node :blackjack_server_695774@Developer raised an exception
** (Module.Types.Error) found error while checking types for BlackjackWeb.Sockets.UserHandler.websocket_init/1

def websocket_init(%{current_user: %{"id" => id}} = state) do
  [{user_pid, _}] =
    Horde.Registry.lookup(
      Blackjack.Accounts.AccountsRegistry,
      id
    )

  :erlang.monitor(
    :process,
    user_pid
  )

  :erlang.send(:erlang.self(), {:connect})
  {[], state, :hibernate}
end

Please report this bug: https://github.com/elixir-lang/elixir/issues

** (ArgumentError) errors were found at the given arguments:

  * 1st argument: the table identifier does not refer to an existing ETS table

    (stdlib 4.0.1) :ets.lookup(#Reference<0.1672738816.2366242817.87250>, {:cached, Horde.Registry})
    (elixir 1.14.2) lib/module/parallel_checker.ex:180: Module.ParallelChecker.preload_module/2
    (elixir 1.14.2) lib/module/types/of.ex:243: Module.Types.Of.remote/5
    (elixir 1.14.2) lib/module/types/expr.ex:397: Module.Types.Expr.of_expr/4
    (elixir 1.14.2) lib/module/types/expr.ex:140: Module.Types.Expr.of_expr/4
    (elixir 1.14.2) lib/module/types/helpers.ex:93: Module.Types.Helpers.do_map_reduce_ok/3
    (elixir 1.14.2) lib/module/types/expr.ex:213: Module.Types.Expr.of_expr/4
    (elixir 1.14.2) lib/module/types.ex:63: Module.Types.warnings_from_clause/6
[error] blackjack_server_695774@Developer : Process #PID<0.1175.0> on node :blackjack_server_695774@Developer raised an exception
** (Module.Types.Error) found error while checking types for Blackjack.Accounts.Inbox.InboxQuery.read_notifications/1

def read_notifications(current_user) do
  Enum.map(
    List.flatten(
      Kernel.get_in(
        Blackjack.Repo.preload(current_user,
          inbox: :notifications
        ),
        [Access.key(:inbox), Access.key(:notifications)]
      )
    ),
    fn notification ->
      :maps.put(
        :received,
        notification.inserted_at,
        :maps.put(
          :from,
          "System",
          Map.take(
            notification,
            [:body]
          )
        )
      )
    end
  )
end

Please report this bug: https://github.com/elixir-lang/elixir/issues

** (ArgumentError) errors were found at the given arguments:

  * 1st argument: the table identifier does not refer to an existing ETS table

    (stdlib 4.0.1) :ets.lookup(#Reference<0.1672738816.2366242817.87250>, {:cached, Enum})
    (elixir 1.14.2) lib/module/parallel_checker.ex:180: Module.ParallelChecker.preload_module/2
    (elixir 1.14.2) lib/module/types/of.ex:243: Module.Types.Of.remote/5
    (elixir 1.14.2) lib/module/types/expr.ex:397: Module.Types.Expr.of_expr/4
    (elixir 1.14.2) lib/module/types.ex:63: Module.Types.warnings_from_clause/6
    (elixir 1.14.2) lib/module/types.ex:22: anonymous fn/8 in Module.Types.warnings/5
    (elixir 1.14.2) lib/enum.ex:4249: Enum.flat_map_list/2
    (elixir 1.14.2) lib/module/parallel_checker.ex:233: Module.ParallelChecker.check_module/2
[info] blackjack_server_238816@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_238816@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_238816@Developer : Starting Accounts Supervisor.
[info] blackjack_server_238816@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_238816@Developer : Starting Core Supervisor.
[info] blackjack_server_238816@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_238816@Developer : Accounts Observer started.
[error] blackjack_server_238816@Developer : Task #PID<0.563.0> started from Blackjack.Supervisor terminating
** (DBConnection.ConnectionError) connection not available and request was dropped from queue after 2471ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:

  1. Ensuring your database is available and that you can connect to it
  2. Tracking down slow queries and making sure they are running fast enough
  3. Increasing the pool_size (although this increases resource consumption)
  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval

See DBConnection.start_link/2 for more information

    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:913: Ecto.Adapters.SQL.raise_sql_call_error/1
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:828: Ecto.Adapters.SQL.execute/6
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:229: Ecto.Repo.Queryable.execute/4
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:19: Ecto.Repo.Queryable.all/3
    (blackjack 0.1.0) lib/blackjack/application.ex:81: Blackjack.Application.start_all_servers/0
    (elixir 1.14.2) lib/task/supervised.ex:89: Task.Supervised.invoke_mfa/2
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Function: #Function<0.118088848/0 in Blackjack.Application.start_all_servers>
    Args: []
[info] blackjack_server_551241@Developer : Starting Horde.RegistryImpl with name Blackjack.Accounts.AccountsRegistry
[info] blackjack_server_551241@Developer : Starting Horde.RegistryImpl with name Blackjack.Core.CoreRegistry
[info] blackjack_server_551241@Developer : Starting Accounts Supervisor.
[info] blackjack_server_551241@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Accounts.Supervisor
[info] blackjack_server_551241@Developer : Starting Core Supervisor.
[info] blackjack_server_551241@Developer : Starting Horde.DynamicSupervisorImpl with name Blackjack.Core.Supervisor
[info] blackjack_server_551241@Developer : Accounts Observer started.
[error] blackjack_server_551241@Developer : Task #PID<0.563.0> started from Blackjack.Supervisor terminating
** (DBConnection.ConnectionError) connection not available and request was dropped from queue after 2647ms. This means requests are coming in and your connection pool cannot serve them fast enough. You can address this by:

  1. Ensuring your database is available and that you can connect to it
  2. Tracking down slow queries and making sure they are running fast enough
  3. Increasing the pool_size (although this increases resource consumption)
  4. Allowing requests to wait longer by increasing :queue_target and :queue_interval

See DBConnection.start_link/2 for more information

    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:913: Ecto.Adapters.SQL.raise_sql_call_error/1
    (ecto_sql 3.9.1) lib/ecto/adapters/sql.ex:828: Ecto.Adapters.SQL.execute/6
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:229: Ecto.Repo.Queryable.execute/4
    (ecto 3.9.2) lib/ecto/repo/queryable.ex:19: Ecto.Repo.Queryable.all/3
    (blackjack 0.1.0) lib/blackjack/application.ex:81: Blackjack.Application.start_all_servers/0
    (elixir 1.14.2) lib/task/supervised.ex:89: Task.Supervised.invoke_mfa/2
    (stdlib 4.0.1) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Function: #Function<0.118088848/0 in Blackjack.Application.start_all_servers>
    Args: []
[info] blackjack_server_551241@Developer : Message sent to: user3
